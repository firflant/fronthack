// Modal
//
// Animated modal popup with darkened overlay switched by pure CSS. Its height
// is determined by its content.
//
// Markup: html/modal.html
//
// .modal--xs - Extreme small modal
// .modal--sm - Small modal
// default    - Default
// .modal--lg - Large modal
//
// Styleguide 2.modal

$modal-width-xs: 300px
$modal-width-sm: 440px
$modal-width: 540px
$modal-width-lg: 790px
// Block
// --------------------------------------------------
// .modal

// Elements
// --------------------------------------------------
.modal__input
  // Visually hide checkbox button
  position: absolute
  opacity: 0

.modal__label
  cursor: pointer

.modal__inner
  display: none
  position: fixed
  top: 50%
  transform: translateY(-50%)
  left: 50%
  width: $modal-width
  margin: 0 (-$modal-width/2)
  box-shadow: 0 5px 10px 0 lighten($gray-base, 30%)
  z-index: 101

.modal__title
  background-color: $brand-primary
  padding: 10px 30px
  color: #fff
  text-align: center
  font-weight: $font-weight-bold

.modal__content
  background-color: #fff
  padding: 30px
  font-weight: $font-weight-bold

.modal__overlay
  display: none
  +overlay


// States
// --------------------------------------------------
.modal__input:focus ~ .modal__inner
  display: block
  animation:
    name: modal-inner
    duration: 250ms
    timing-function: ease-in-out
    iteration-count: 1
    fill-mode: forwards
.modal__input:focus ~ .modal__overlay
  display: block
  animation:
    name: modal-overlay
    duration: 250ms
    timing-function: ease-in-out
    iteration-count: 1
    fill-mode: forwards

// Prevent closing element when clicking inside.
.modal__inner:hover
  &,
  & + .modal__overlay
    display: block !important


@keyframes modal-overlay
  0%
    opacity: 0
  100%
    opacity: 1

@keyframes modal-inner
  0%
    opacity: 0
  100%
    opacity: 1

// Modifiers
// --------------------------------------------------
.modal--xs
  .modal__inner
    margin: 0 (-$modal-width-xs/2)
    width: $modal-width-xs

.modal--sm
  .modal__inner
    margin: 0 (-$modal-width-sm/2)
    width: $modal-width-sm

.modal--lg
  .modal__inner
    margin: 0 (-$modal-width-lg/2)
    width: $modal-width-lg
